<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Darts Scoring System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='images/icon.png') }}">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>Darts Scoring System</h1>
            <div class="game-info">
                <div id="game-type">501</div>
                <div id="current-player">Player 1</div>
                <div id="remaining-score">501</div>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="main-content">
            <!-- Score Display -->
            <div class="score-display">
                <div class="player-scores" id="player-scores">
                    <!-- Player scores will be populated by JavaScript -->
                </div>
                <div class="turn-info">
                    <div class="dart-throws" id="dart-throws">
                        <div class="dart">1: </div>
                        <div class="dart">2: </div>
                        <div class="dart">3: </div>
                    </div>
                    <div class="turn-total" id="turn-total">Turn: 0</div>
                </div>
            </div>

            <!-- Dartboard Input -->
            <div class="dartboard-input">
                <div class="multiplier-selector">
                    <button class="multiplier-btn active" data-multiplier="1">Single</button>
                    <button class="multiplier-btn" data-multiplier="2">Double</button>
                    <button class="multiplier-btn" data-multiplier="3">Treble</button>
                    <button class="multiplier-btn" data-multiplier="0">Miss</button>
                </div>

                <div class="segment-grid" id="segment-grid">
                    <!-- Segment buttons will be generated by JavaScript -->
                </div>

                <div class="special-buttons">
                    <button class="special-btn" id="bull-btn" data-segment="25" data-multiplier="1">Bull (25)</button>
                    <button class="special-btn" id="double-bull-btn" data-segment="25" data-multiplier="2">Double Bull (50)</button>
                </div>
            </div>

            <!-- Game Controls -->
            <div class="game-controls">
                <button class="control-btn" id="new-game-btn">New Game</button>
                <button class="control-btn" id="refresh-btn">Refresh Game</button>
                <button class="control-btn" id="undo-btn">Undo Last Dart</button>
                <button class="control-btn" id="next-player-btn">Next Player</button>
                <button class="control-btn" id="stats-btn">View Stats</button>
            </div>
            <!-- Add to game controls or near dart display -->
            <div class="turn-status" id="turn-status">
                <span id="darts-remaining">3 darts remaining</span>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="connection-status" id="connection-status">
                <span class="status-indicator online"></span>
                <span>Online</span>
            </div>
            <div class="offline-queue" id="offline-queue">
                Offline throws: <span id="offline-count">0</span>
            </div>
        </footer>
    </div>

    <!-- Modals -->
    <div class="modal" id="new-game-modal">
        <div class="modal-content">
            <h2>Start New Game</h2>
            <div class="player-selection" id="player-selection">
                <!-- Player checkboxes will be populated by JavaScript -->
            </div>
            <div class="modal-buttons">
                <button class="modal-btn" id="start-game-btn">Start Game</button>
                <button class="modal-btn cancel" id="cancel-game-btn">Cancel</button>
            </div>
        </div>
    </div>

    <div class="modal" id="stats-modal">
        <div class="modal-content">
            <h2>Player Statistics</h2>
            <div class="stats-display" id="stats-display">
                <!-- Stats will be populated by JavaScript -->
            </div>
            <button class="modal-btn" id="close-stats-btn">Close</button>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>